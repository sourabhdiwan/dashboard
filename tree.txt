import os
from flask import Flask, render_template

app = Flask(__name__)

def generate_tree(directory):
    tree = {}
    for root, dirs, files in os.walk(directory):
        current_level = tree
        for dir_name in root.split(os.sep):
            if dir_name:
                current_level = current_level.setdefault(dir_name, {})
        for file_name in files:
            current_level[file_name] = None
    return tree

@app.route('/tree')
def show_tree():
    directory = '.'  # You can change this to the directory you want to display
    tree = generate_tree(directory)
    return render_template('tree.html', tree=tree)

if __name__ == '__main__':
    app.run(debug=True)
